From 375b3fa548c9deb7fe20fa5203cb28c800872100 Mon Sep 17 00:00:00 2001
From: Patrick Gaskin <patrick@pgaskin.net>
Date: Wed, 21 Apr 2021 15:05:48 -0400
Subject: [PATCH] win32: Fix minimum Windows version for inet_{ntop,pton}

https://docs.microsoft.com/en-us/windows/win32/api/ws2tcpip/nf-ws2tcpip-inet_ntop#requirements
---
 src/pulsecore/arpa-inet.c | 2 +-
 src/pulsecore/arpa-inet.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/pulsecore/arpa-inet.c b/src/pulsecore/arpa-inet.c
index f917286ea..fb342994b 100644
--- a/src/pulsecore/arpa-inet.c
+++ b/src/pulsecore/arpa-inet.c
@@ -21,7 +21,7 @@
 #include <config.h>
 #endif
 
-#if !defined(HAVE_ARPA_INET_H) && defined(OS_IS_WIN32) && (_WIN32_WINNT <= 0x0600)
+#if !defined(HAVE_ARPA_INET_H) && defined(OS_IS_WIN32) && (_WIN32_WINNT < 0x0600)
 
 #include <errno.h>
 
diff --git a/src/pulsecore/arpa-inet.h b/src/pulsecore/arpa-inet.h
index a3bc840e6..19f3be899 100644
--- a/src/pulsecore/arpa-inet.h
+++ b/src/pulsecore/arpa-inet.h
@@ -12,7 +12,7 @@
 
 #include <pulsecore/socket.h>
 
-#if (_WIN32_WINNT <= 0x0600)
+#if (_WIN32_WINNT < 0x0600)
 
 const char *inet_ntop(int af, const void *src, char *dst, socklen_t cnt);
 
-- 
2.31.0

