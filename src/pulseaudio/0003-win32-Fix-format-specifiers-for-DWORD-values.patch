From 8eb996eb319093af4834145dcff1297522dccd7b Mon Sep 17 00:00:00 2001
From: Patrick Gaskin <patrick@pgaskin.net>
Date: Thu, 31 Dec 2020 05:33:19 -0500
Subject: [PATCH] win32: Fix format specifiers for DWORD values

---
 src/pulse/util.c            | 2 +-
 src/pulsecore/conf-parser.c | 2 +-
 src/pulsecore/core-util.c   | 6 +++---
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/src/pulse/util.c b/src/pulse/util.c
index 2be389b22..0b30abaf4 100644
--- a/src/pulse/util.c
+++ b/src/pulse/util.c
@@ -510,7 +510,7 @@ int pa_thread_make_realtime(int rtprio) {
         return 0;
     }
 
-    pa_log_warn("SetThreadPriority() failed: 0x%08X", GetLastError());
+    pa_log_warn("SetThreadPriority() failed: 0x%08lX", GetLastError());
     errno = EPERM;
 #else
     errno = ENOTSUP;
diff --git a/src/pulsecore/conf-parser.c b/src/pulsecore/conf-parser.c
index 73b7061f4..7707904d2 100644
--- a/src/pulsecore/conf-parser.c
+++ b/src/pulsecore/conf-parser.c
@@ -251,7 +251,7 @@ finish:
                     LocalFree(msgbuf);
                 } else {
                     pa_log_warn("FindFirstFile(%s) failed with error %ld, ignoring.", pattern, err);
-                    pa_log_warn("FormatMessage failed with error %ld", GetLastError());
+                    pa_log_warn("FormatMessage failed with error %lu", GetLastError());
                 }
             }
         }
diff --git a/src/pulsecore/core-util.c b/src/pulsecore/core-util.c
index 1c9746dbf..24736e830 100644
--- a/src/pulsecore/core-util.c
+++ b/src/pulsecore/core-util.c
@@ -759,7 +759,7 @@ int pa_raise_priority(int nice_level) {
 #ifdef OS_IS_WIN32
     if (nice_level < 0) {
         if (!SetPriorityClass(GetCurrentProcess(), HIGH_PRIORITY_CLASS)) {
-            pa_log_warn("SetPriorityClass() failed: 0x%08X", GetLastError());
+            pa_log_warn("SetPriorityClass() failed: 0x%08lX", GetLastError());
             errno = EPERM;
             return -1;
         }
@@ -1325,7 +1325,7 @@ int pa_lock_fd(int fd, int b) {
     if (!b && UnlockFile(h, 0, 0, 0xFFFFFFFF, 0xFFFFFFFF))
         return 0;
 
-    pa_log("%slock failed: 0x%08X", !b ? "un" : "", GetLastError());
+    pa_log("%slock failed: 0x%08lX", !b ? "un" : "", GetLastError());
 
     /* FIXME: Needs to set errno! */
 #endif
@@ -3256,7 +3256,7 @@ char *pa_uname_string(void) {
     i.dwOSVersionInfoSize = sizeof(OSVERSIONINFO);
     pa_assert_se(GetVersionEx(&i));
 
-    return pa_sprintf_malloc("Windows %d.%d (%d) %s", i.dwMajorVersion, i.dwMinorVersion, i.dwBuildNumber, i.szCSDVersion);
+    return pa_sprintf_malloc("Windows %lu.%lu (%lu) %s", i.dwMajorVersion, i.dwMinorVersion, i.dwBuildNumber, i.szCSDVersion);
 #endif
 }
 
-- 
2.29.2

